var PixelSort;(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{init:()=>l});const r="undefined"!=typeof BigUint64Array,n=Symbol(),o=new TextDecoder("utf-16le");function i(t,e){const r=new Uint32Array(t)[e+-4>>>2]>>>1,n=new Uint16Array(t,e,r);return r<=32?String.fromCharCode.apply(String,n):o.decode(n)}function a(t){const e={};function r(t,e){return t?i(t.buffer,e):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(t,o,i,a){const c=e.memory||n.memory;throw Error(`abort: ${r(c,t)} at ${r(c,o)}:${i}:${a}`)},n.trace=n.trace||function(t,o,...i){const a=e.memory||n.memory;console.log(`trace: ${r(a,t)}${o?" ":""}${i.slice(0,o).join(", ")}`)},n.seed=n.seed||Date.now,t.Math=t.Math||Math,t.Date=t.Date||Date,e}const c=function(){throw Error("Operation requires compiling with --exportRuntime")};function s(t,e){const o=e.exports,a=o.memory,s=o.table,u=o.__new||c,f=o.__pin||c,l=o.__unpin||c,y=o.__collect||c,p=o.__rtti_base||-1;function w(t){const e=function(t){const e=new Uint32Array(a.buffer);if((t>>>=0)>=e[p>>>2])throw Error(`invalid id: ${t}`);return e[(p+4>>>2)+2*t]}(t);if(!(7&e))throw Error(`not an array: ${t}, flags=${e}`);return e}function g(t){const e=new Uint32Array(a.buffer);if((t>>>=0)>=e[p>>>2])throw Error(`invalid id: ${t}`);return e[(p+4>>>2)+2*t+1]}function b(t){return 31-Math.clz32(t>>>6&31)}function h(t,e,r){const n=a.buffer;if(r)switch(t){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(n);case 1:return new(e?Int16Array:Uint16Array)(n);case 2:return new(e?Int32Array:Uint32Array)(n);case 3:return new(e?BigInt64Array:BigUint64Array)(n)}throw Error(`unsupported align: ${t}`)}function m(t){const e=new Uint32Array(a.buffer),r=w(e[t+-8>>>2]),n=b(r);let o=4&r?t:e[t+4>>>2];const i=2&r?e[t+12>>>2]:e[o+-4>>>2]>>>n;return h(n,2048&r,4096&r).subarray(o>>>=n,o+i)}function _(t,e,r){return new t(A(t,e,r))}function A(t,e,r){const n=a.buffer,o=new Uint32Array(n),i=o[r+4>>>2];return new t(n,i,o[i+-4>>>2]>>>e)}function d(e,r,n){t[`__get${r}`]=_.bind(null,e,n),t[`__get${r}View`]=A.bind(null,e,n)}return t.__new=u,t.__pin=f,t.__unpin=l,t.__collect=y,t.__newString=function(t){if(null==t)return 0;const e=t.length,r=u(e<<1,1),n=new Uint16Array(a.buffer);for(var o=0,i=r>>>1;o<e;++o)n[i+o]=t.charCodeAt(o);return r},t.__getString=function(t){if(!t)return null;const e=a.buffer;if(1!==new Uint32Array(e)[t+-8>>>2])throw Error(`not a string: ${t}`);return i(e,t)},t.__newArray=function(t,e){const r=w(t),n=b(r),o=e.length,i=u(o<<n,4&r?t:0);let c;if(4&r)c=i;else{f(i);const e=u(2&r?16:12,t);l(i);const s=new Uint32Array(a.buffer);s[e+0>>>2]=i,s[e+4>>>2]=i,s[e+8>>>2]=o<<n,2&r&&(s[e+12>>>2]=o),c=e}const s=h(n,2048&r,4096&r);if(16384&r)for(let t=0;t<o;++t){const r=e[t];s[(i>>>n)+t]=r}else s.set(e,i>>>n);return c},t.__getArrayView=m,t.__getArray=function(t){const e=m(t),r=e.length,n=new Array(r);for(let t=0;t<r;t++)n[t]=e[t];return n},t.__getArrayBuffer=function(t){const e=a.buffer,r=new Uint32Array(e)[t+-4>>>2];return e.slice(t,t+r)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((t=>{d(t,t.name,31-Math.clz32(t.BYTES_PER_ELEMENT))})),r&&[BigUint64Array,BigInt64Array].forEach((t=>{d(t,t.name.slice(3),3)})),t.__instanceof=function(t,e){const r=new Uint32Array(a.buffer);let n=r[t+-8>>>2];if(n<=r[p>>>2])do{if(n==e)return!0;n=g(n)}while(n);return!1},t.memory=t.memory||a,t.table=t.table||s,function(t,e={}){const r=t.__argumentsLength?e=>{t.__argumentsLength.value=e}:t.__setArgumentsLength||t.__setargc||(()=>{});for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const i=t[o];let a=o.split("."),c=e;for(;a.length>1;){let t=a.shift();Object.prototype.hasOwnProperty.call(c,t)||(c[t]={}),c=c[t]}let s=a[0],u=s.indexOf("#");if(u>=0){const e=s.substring(0,u),a=c[e];if(void 0===a||!a.prototype){const t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf(){return this[n]}},t.wrap=function(e){return Object.create(t.prototype,{[n]:{value:e,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach((e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e)))),c[e]=t}if(s=s.substring(u+1),c=c[e].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(c,s=s.substring(4))){let e=t[o.replace("set:","get:")],r=t[o.replace("get:","set:")];Object.defineProperty(c,s,{get(){return e(this[n])},set(t){r(this[n],t)},enumerable:!0})}}else"constructor"===s?(c[s]=(...t)=>(r(t.length),i(...t))).original=i:(c[s]=function(...t){return r(t.length),i(this[n],...t)}).original=i}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(c,s=s.substring(4))||Object.defineProperty(c,s,{get:t[o.replace("set:","get:")],set:t[o.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==r?(c[s]=(...t)=>(r(t.length),i(...t))).original=i:c[s]=i}return e}(o,t)}function u(t){return"undefined"!=typeof Response&&t instanceof Response}async function f(t,e={}){if(u(t=await t))return async function(t,e={}){if(!WebAssembly.instantiateStreaming)return f(u(t=await t)?t.arrayBuffer():t,e);const r=a(e),n=await WebAssembly.instantiateStreaming(t,e),o=s(r,n.instance);return{...n,exports:o}}(t,e);const r=t instanceof WebAssembly.Module?t:await WebAssembly.compile(t),n=a(e),o=await WebAssembly.instantiate(r,e);return{module:r,instance:o,exports:s(n,o)}}function l(t){return e=this,r=void 0,o=function*(){const e=yield fetch(t),r=yield e.arrayBuffer(),n=yield f(r,{});return new y(n)},new((n=void 0)||(n=Promise))((function(t,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function c(t){try{s(o.throw(t))}catch(t){i(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(a,c)}s((o=o.apply(e,r||[])).next())}));var e,r,n,o}class y{constructor(t){this.wasm=t}sort(t,e,r){const n=t.data,o=n.length,i=new DataView(this.wasm.instance.exports.memory.buffer);for(let t=0;t<o;++t)i.setUint8(t,n[t]);this.wasm.instance.exports.sort(o,e,r);const a=new DataView(this.wasm.instance.exports.memory.buffer);for(let t=0;t<o;++t)n[t]=a.getUint8(t);return t}}PixelSort=e})();
//# sourceMappingURL=pixelsort.js.map